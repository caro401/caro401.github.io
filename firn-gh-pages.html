<html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="Caro Appleby" name="author" /><meta content="Musings on code and learning" name="description" /><title>Caro's Blog</title><link href="https://caro401.github.io/static/css/prism.css" rel="stylesheet" /><link href="https://caro401.github.io/static/css/firn_base.css" rel="stylesheet" /><script src="https://caro401.github.io/static/js/prism.js"></script></head><body><nav class="nav"><a class="nav-links-item" href="https://caro401.github.io/"><span>Home</span></a><a class="nav-links-item" href="https://caro401.github.io/about"><span>About</span></a><a class="nav-links-item" href="https://caro401.github.io/tags"><span>Tags</span></a><a class="nav-links-item" href="https://github.com/caro401/caro401.github.io"><span>GitHub</span></a></nav><main><article class="content"><h1>Firn and GitHub Pages</h1><p class="frontmatter">Created: 2021-01-21 </p><div><section><p><span>So, I rewrote the website. I didn't write for a while, because pandemic and other life circumstances, during which time Sapper broke itself, and I decided that rather than fixing my build, I should re-write the whole thing in a different static site generator.</span></p><p><span>That static site generator is </span><a class="firn-external" href="https://firn.theiceshelf.com/" target="_blank">firn</a><span>, which is pretty new and shiny. It particularly caught my eye because it uses all the skills I use at work:</span></p><ul><li><p><span>Clojure</span></p></li><li><p><a class="firn-external" href="https://github.com/weavejester/hiccup" target="_blank">hiccup</a><span> for templating the pages,</span></p></li><li><p><a class="firn-external" href="https://orgmode.org/" target="_blank">Org mode</a><span> for the words, and it plays nicely with </span><a class="firn-external" href="https://www.orgroam.com/" target="_blank">org-roam</a><span> (more on that later)</span></p></li><li><p><span>(and a bit of CSS)</span></p></li></ul><p><span>Although firn is new, Clojure projects tend to be spectacularly stable, so I fully expect this not to break catastrophically if I leave it alone for a bit, and if it does break, I know the language and ecosystem well enough to have some hope of fixing it. I know just about enough JavaScript to be dangerous, and don't particularly enjoy it, so even if the new firn site does break, that's more fun.</span></p><p><span>There's a very tiny bit of JavaScript - </span><a class="firn-external" href="https://prismjs.com/" target="_blank">Prism</a><span> for doing code syntax highlighting, but this is not code I ever intend to touch. I'm using a slightly modified version of the </span><a class="firn-external" href="https://github.com/PrismJS/prism-themes" target="_blank">Material Dark</a><span> theme with it.</span></p></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="deployment"><span class="firn-headline-text"><span>Deployment</span></span></h2><section><p><span>I've also moved from GitLab to GitHub, mostly because I did the same in my job. This means new deployment scripts and a new URL. The documentation around GitHub pages is pretty good if you just want to do a Jekyll site, but less so if you want to go off the beaten track. Thankfully, I found someone else who has been building with firn and </span><span> borrowed their configuration (from </span><a class="firn-external" href="https://github.com/exp2exp/exp2exp.github.io/blob/master/.github/workflows/src-build.yml" target="_blank">this repo</a><span>). This works really nicely (and really fast!) if...</span></p><ul><li><p><span>you remember to tell GitHub to serve pages from the </span><code>gh-pages</code><span> branch, because this is what the </span><code>actions-gh-pages</code><span> thing does</span></p></li><li><p><span>you haven't been "clever" and put your image assets in </span><a class="firn-external" href="https://git-lfs.github.com/" target="_blank">git lfs</a><span>, because then GitHub tries to serve up the reference file rather than the image asset (see </span><a class="firn-external" href="https://github.com/git-lfs/git-lfs/issues/1342" target="_blank">this issue</a><span>).</span></p></li></ul><p><span>This is all open source, so feel free to go look at my </span><a class="firn-external" href="https://github.com/caro401/caro401.github.io/blob/main/.github/workflows/firn.yml" target="_blank">workflow configuration</a><span> and tell me how to do it better.</span></p></section></div></div><hr /><h2 class="firn-backlinks">Backlinks</h2><ul class="firn-backlinks"><li class="firn-backlink"><a href="https://caro401.github.io/hello-world">Hello, world!</a></li></ul></article></main></body></html>